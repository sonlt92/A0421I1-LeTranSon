<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
<script>
  class SoXo {
    constructor(so1,so2,so3,so4,so5,so6) {
      this.so1=so1;
      this.so2=so2;
      this.so3=so3;
      this.so4=so4;
      this.so5=so5;
      this.so6=so6;
    }
  }
  let arrVeSO=[];
  function muaVeSo() {
    let choose = prompt("Mời bạn nhập lựa chọn. VỚi 1 là nhập số, 2 là random");
    if(choose == "1") {
      let result = "Số 1: <input id='so1'>";
      result+= "Số 2: <input id='so2'>";
      result+= "Số 3: <input id='so3'>";
      result+= "Số 4: <input id='so4'>";
      result+= "Số 5: <input id='so5'>";
      result+= "Số 6: <input id='so6'>";
      result+="<button onclick='hoanThanhMuaVe()'>Mua vé</button>"
      document.write(result);
    } else if(choose =="2"){
      let veSo = [];
      for(let i=1; i<=6; i++){
        veSo[i] = Math.floor(Math.random()*99)
      }
      arrVeSO.push(new SoXo(veSo[1],veSo[2],veSo[3],veSo[4],veSo[5],veSo[6]));
      display();
    } else {
      alert("Bạn vui lòng chọn số đúng")
    }
  }
  function hoanThanhMuaVe() {
    let so1 = parseInt(document.getElementById('so1').value);
    let so2 = parseInt(document.getElementById('so2').value);
    let so3 = parseInt(document.getElementById('so3').value);
    let so4 = parseInt(document.getElementById('so4').value);
    let so5 = parseInt(document.getElementById('so5').value);
    let so6 = parseInt(document.getElementById('so6').value);
    arrVeSO.push(new SoXo(so1,so2,so3,so4,so5,so6));
    display();
  }
  function display() {
    document.body.innerText="";
    let result ="<button type='button' onclick='muaVeSo()'>Mua vé số</button>" +
            "<button type='button' onclick='checkKetQua()'>Xem kết quả</button><table border='1'>";
    for(let i =0; i<arrVeSO.length;i++) {
      result+="<tr>";
      result+="<td>"+arrVeSO[i].so1+"</td>"
      result+="<td>"+arrVeSO[i].so2+"</td>"
      result+="<td>"+arrVeSO[i].so3+"</td>"
      result+="<td>"+arrVeSO[i].so4+"</td>"
      result+="<td>"+arrVeSO[i].so5+"</td>"
      result+="<td>"+arrVeSO[i].so6+"</td>"
      result+="</tr>";
    }
    result+="</table>"
    document.write(result);
  }
  function checkKetQua() {
    let veSo = [];
    for(let i=1; i<=6; i++){
      veSo[i] = Math.floor(Math.random()*99)
    }
    let giaiDacBiet = new SoXo(veSo[1],veSo[2],veSo[3],veSo[4],veSo[5],veSo[6]);
    for(let i =0;i<arrVeSO.length;i++) {
      if(giaiDacBiet.so1==arrVeSO[i].so1&&giaiDacBiet.so2==arrVeSO[i].so2&&giaiDacBiet.so3==arrVeSO[i].so3&&giaiDacBiet.so4==arrVeSO[i].so4&&giaiDacBiet.so5==arrVeSO[i].so5&&giaiDacBiet.so6==arrVeSO[i].so6) {
        alert("Chúc mừng bạn có vé số ở vị trí "+ i+" đã giành được giải nhất");
      } else if(giaiDacBiet.so2==arrVeSO[i].so2&&giaiDacBiet.so3==arrVeSO[i].so3&&giaiDacBiet.so4==arrVeSO[i].so4&&giaiDacBiet.so5==arrVeSO[i].so5&&giaiDacBiet.so6==arrVeSO[i].so6) {
        alert("Chúc mừng bạn có vé số ở vị trí "+ i+" đã giành được giải nhì");
      } else if(giaiDacBiet.so4==arrVeSO[i].so4&&giaiDacBiet.so5==arrVeSO[i].so5&&giaiDacBiet.so6==arrVeSO[i].so6) {
        alert("Chúc mừng bạn có vé số ở vị trí "+ i+" đã giành được giải ba");
      }
    }
    document.write("Giải đặc biệt là: "+giaiDacBiet.so1+" "+giaiDacBiet.so2+" "+giaiDacBiet.so3+" "+giaiDacBiet.so4+" "+giaiDacBiet.so5+" "+giaiDacBiet.so6+" ")
  }
  display();
</script>
</body>
</html>